# JSabbat
JSabbat is an application containing multiple functionalities. The idea is to build an distributed application with the ability to run on home servers to keep the data private BUIT with all advantages of
scalibilty and availability. Moreover it is a learning platform to learn stuff like:
* service oriented architecture
* event driven systems
* big data analysis
* "Microservices"

The following list describes the bounded contexts:Applications to be used in high available private clouds (like messenging, communitypay)

* messenger: allows all users to send messages to each other with different external interfaces (e.g. like email, mobile phone push, twitter) but also in the future websockets)
* location: an application to track geographic location data, heart rates, cadenc of road bike riders to keep track of them and to connect friends of the same community group with each other. So they shall know where friends are, what the distance is between them. Android and Apple phones can be integrated by using MapMyTracks API (https://github.com/MapMyTracks/api) by using app "OruxMaps" for example. The API-GATEWAY implements this API protocol.
* identity & account management (module "de.bruenni.sabbat.shared")
the application is its own issuer of JWT (JSON web token). For account management (user and associated groups) the API-gateway integrates api.stormpath.com (www.stormpath.com). In the future I will use the OAuth2 tokens generated by stormpath but today only the BASIC authentication verifying username/password received by the oruxmaps app. After that the IAuthenticationService creates JWT tokens (using JJWT, maven "io.jsonwebtoken") with an asymmetric RSA private key only known on the API-gateway and all other services in the private cloud are using the corresponding public key.the JWT contains the following properties
** username
** groups (comma seperated list of group names te user is associated). this makes it very easy to group single user coordinates and correlate to other users sending coordinates.


Technical facts:

system architecture

  |sabbat.api-gateway| <--> |RabbitMQ Broker| <--> |location.app| --> |sabbat.messenger|

